<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creamy Mushroom Risotto - My Food Blog</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>

    <header class="header">
        <nav class="navbar">
            <a href="../index.html" class="logo">My Food Blog</a>
            <div class="nav-links">
                <a href="../index.html">Home</a>
                <a href="#recipes">Recipes</a>
                <a href="#about">About</a>
                <a href="#contact">Contact</a>
            </div>
        </nav>
    </header>

    <main class="container recipe-page">
        <article>
            <h1 class="recipe-title">Creamy Mushroom Risotto</h1>
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQJiMAQwX6BtoqDmlVcEEoYVttOKOXe2kkK5w&s" alt="Creamy Mushroom Risotto" class="recipe-image">
            
            <button class="translate-btn" id="translate-btn">Translate to Hindi</button>

            <div id="original-content">
                <section class="recipe-details">
                    <p>A classic Italian dish with Arborio rice, saut√©ed mushrooms, and parmesan cheese for a perfect creamy texture. This dish is rich and elegant, yet easy to master at home.</p>
                    
                    <h2>Ingredients</h2>
                    <ul>
                        <li>6 cups vegetable broth</li>
                        <li>2 tbsp olive oil</li>
                        <li>1 tbsp butter</li>
                        <li>1 large shallot, finely chopped</li>
                        <li>2 cloves garlic, minced</li>
                        <li>8 oz assorted mushrooms, sliced</li>
                        <li>1.5 cups Arborio rice</li>
                        <li>1/2 cup dry white wine</li>
                        <li>1/2 cup grated parmesan cheese</li>
                        <li>2 tbsp chopped fresh parsley</li>
                        <li>Salt and black pepper to taste</li>
                    </ul>

                    <h2>Instructions</h2>
                    <ol>
                        <li>In a saucepan, bring the vegetable broth to a simmer and keep it warm over low heat.</li>
                        <li>In a separate large pot, heat the olive oil and butter over medium heat. Add the shallot and cook until softened. Add the garlic and mushrooms, cooking until the mushrooms are golden.</li>
                        <li>Add the Arborio rice and stir for one minute until the grains are lightly toasted.</li>
                        <li>Pour in the white wine and stir until it's fully absorbed.</li>
                        <li>Add one cup of the warm broth to the rice, stirring constantly until it's absorbed. Continue adding broth, one cup at a time, allowing each addition to be absorbed before adding the next. This will take about 20-25 minutes.</li>
                        <li>Once the rice is cooked al dente (tender with a slight bite), remove from heat. Stir in the parmesan cheese and fresh parsley. Season with salt and pepper.</li>
                        <li>Serve immediately.</li>
                    </ol>
                </section>
            </div>

            <div id="translated-content" style="display: none;">
                <p>Translating...</p>
            </div>
        </article>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 My Food Blog. All Rights Reserved.</p>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const translateBtn = document.getElementById('translate-btn');
            const originalContent = document.getElementById('original-content');
            const translatedContent = document.getElementById('translated-content');
            let isHindi = false;

            translateBtn.addEventListener('click', async () => {
                isHindi = !isHindi;

                if (isHindi) {
                    originalContent.style.display = 'none';
                    translatedContent.style.display = 'block';
                    translatedContent.innerHTML = '<p>Translating...</p>';
                    translateBtn.textContent = 'Translate to English';

                    try {
                        const elementsToTranslate = originalContent.querySelectorAll('p, h2, li');
                        const translationPromises = [];

                        elementsToTranslate.forEach(element => {
                            const text = element.innerText;
                            const promise = fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=en|hi`)
                                .then(response => response.json())
                                .then(data => {
                                    const translatedText = data.responseData.translatedText || text;
                                    return `<${element.tagName.toLowerCase()}>${translatedText}</${element.tagName.toLowerCase()}>`;
                                })
                                .catch(error => {
                                    console.error('Translation error:', error);
                                    return `<${element.tagName.toLowerCase()}>Translation failed.</${element.tagName.toLowerCase()}>`;
                                });
                            translationPromises.push(promise);
                        });

                        const translatedResults = await Promise.all(translationPromises);
                        
                        translatedHtml = `<section class="recipe-details">` + translatedResults.join('') + `</section>`;
                        translatedContent.innerHTML = translatedHtml;

                    } catch (error) {
                        console.error('Translation failed:', error);
                        translatedContent.innerHTML = '<p>Translation failed. Please check your internet connection and try again.</p>';
                        isHindi = false;
                        translateBtn.textContent = 'Translate to Hindi';
                    }
                } else {
                    originalContent.style.display = 'block';
                    translatedContent.style.display = 'none';
                    translateBtn.textContent = 'Translate to Hindi';
                }
            });
        });
    </script>
</body>
</html>